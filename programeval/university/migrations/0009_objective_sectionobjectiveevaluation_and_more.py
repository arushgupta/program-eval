# Generated by Django 4.2.7 on 2023-12-05 06:49

import django.core.validators
from django.db import migrations, models
import django.db.models.deletion


class Migration(migrations.Migration):
    dependencies = [
        (
            "university",
            "0008_alter_section_unique_together_alter_section_year_and_more",
        ),
    ]

    operations = [
        migrations.CreateModel(
            name="Objective",
            fields=[
                (
                    "code",
                    models.CharField(
                        max_length=4,
                        primary_key=True,
                        serialize=False,
                        validators=[django.core.validators.MinLengthValidator(3)],
                        verbose_name="LO code",
                    ),
                ),
                ("title", models.CharField(max_length=50, verbose_name="Title")),
            ],
        ),
        migrations.CreateModel(
            name="SectionObjectiveEvaluation",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "students_met",
                    models.PositiveIntegerField(
                        default=0, verbose_name="Number of Students Met"
                    ),
                ),
            ],
            options={
                "verbose_name": "Section Objective Evaluation",
                "verbose_name_plural": "Section Objective Evaluations",
            },
        ),
        migrations.AlterModelOptions(
            name="programcourseobjective",
            options={
                "verbose_name": "Program Course Objective",
                "verbose_name_plural": "Program Course Objectives",
            },
        ),
        migrations.RemoveField(
            model_name="subobjective",
            name="id",
        ),
        migrations.RemoveField(
            model_name="subobjective",
            name="lo",
        ),
        migrations.AddField(
            model_name="programcourseobjective",
            name="evaluation_method",
            field=models.CharField(
                default="test", max_length=50, verbose_name="Evaluation Method"
            ),
            preserve_default=False,
        ),
        migrations.AddField(
            model_name="programcourseobjective",
            name="program_course",
            field=models.ForeignKey(
                default=1,
                on_delete=django.db.models.deletion.CASCADE,
                related_name="objectives",
                to="university.programcourse",
            ),
            preserve_default=False,
        ),
        migrations.AlterField(
            model_name="subobjective",
            name="code",
            field=models.CharField(
                max_length=4,
                primary_key=True,
                serialize=False,
                validators=[django.core.validators.MinLengthValidator(3)],
                verbose_name="SO Code",
            ),
        ),
        migrations.DeleteModel(
            name="LearningObjective",
        ),
        migrations.AddField(
            model_name="sectionobjectiveevaluation",
            name="program_course_objective",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="section_evaluations",
                to="university.programcourseobjective",
            ),
        ),
        migrations.AddField(
            model_name="sectionobjectiveevaluation",
            name="section",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="objective_evaluations",
                to="university.section",
            ),
        ),
        migrations.AddField(
            model_name="subobjective",
            name="objective",
            field=models.ForeignKey(
                default=1,
                on_delete=django.db.models.deletion.CASCADE,
                related_name="subobjectives",
                to="university.objective",
            ),
            preserve_default=False,
        ),
        migrations.AlterField(
            model_name="programcourseobjective",
            name="objective",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="program_courses",
                to="university.objective",
            ),
        ),
        migrations.AlterUniqueTogether(
            name="programcourseobjective",
            unique_together={("program_course", "objective")},
        ),
        migrations.AlterUniqueTogether(
            name="sectionobjectiveevaluation",
            unique_together={("section", "program_course_objective")},
        ),
        migrations.RemoveField(
            model_name="programcourseobjective",
            name="programcourse",
        ),
    ]
